<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daniel Molina, Alic Barandica">
<meta name="dcterms.date" content="2024-08-29">

<title>Revisión y Validación de Datos Consolidados (GEIH)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="data_validation_files/libs/clipboard/clipboard.min.js"></script>
<script src="data_validation_files/libs/quarto-html/quarto.js"></script>
<script src="data_validation_files/libs/quarto-html/popper.min.js"></script>
<script src="data_validation_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="data_validation_files/libs/quarto-html/anchor.min.js"></script>
<link href="data_validation_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="data_validation_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="data_validation_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="data_validation_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="data_validation_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Tabla de contenido</h2>
   
  <ul>
  <li><a href="#preparación-de-para-la-validación" id="toc-preparación-de-para-la-validación" class="nav-link active" data-scroll-target="#preparación-de-para-la-validación">Preparación de para la validación</a></li>
  <li><a href="#función-para-verificar-la-estructura-de-los-datos-verify_variables" id="toc-función-para-verificar-la-estructura-de-los-datos-verify_variables" class="nav-link" data-scroll-target="#función-para-verificar-la-estructura-de-los-datos-verify_variables">1. Función para verificar la estructura de los datos <code>verify_variables()</code></a>
  <ul class="collapse">
  <li><a href="#definir-el-directorio-base" id="toc-definir-el-directorio-base" class="nav-link" data-scroll-target="#definir-el-directorio-base">1.1 Definir el directorio base</a></li>
  <li><a href="#listar-los-subdirectorios" id="toc-listar-los-subdirectorios" class="nav-link" data-scroll-target="#listar-los-subdirectorios">1.2 Listar los subdirectorios</a></li>
  <li><a href="#definición-de-la-función" id="toc-definición-de-la-función" class="nav-link" data-scroll-target="#definición-de-la-función">1.3 Definición de la función</a></li>
  <li><a href="#iteración-sobre-los-meses" id="toc-iteración-sobre-los-meses" class="nav-link" data-scroll-target="#iteración-sobre-los-meses">1.4 Iteración sobre los Meses</a></li>
  <li><a href="#obtener-datos-del-mes" id="toc-obtener-datos-del-mes" class="nav-link" data-scroll-target="#obtener-datos-del-mes">1.5 Obtener Datos del Mes</a></li>
  <li><a href="#comparación-de-nombres-de-columnas" id="toc-comparación-de-nombres-de-columnas" class="nav-link" data-scroll-target="#comparación-de-nombres-de-columnas">1.6 Comparación de Nombres de Columnas</a></li>
  <li><a href="#mensaje-de-resultados" id="toc-mensaje-de-resultados" class="nav-link" data-scroll-target="#mensaje-de-resultados">1.7 Mensaje de Resultados</a></li>
  <li><a href="#llamada-a-la-función" id="toc-llamada-a-la-función" class="nav-link" data-scroll-target="#llamada-a-la-función">1.8 Llamada a la Función</a></li>
  <li><a href="#retorno-de-la-función" id="toc-retorno-de-la-función" class="nav-link" data-scroll-target="#retorno-de-la-función">1.9 Retorno de la función</a></li>
  </ul></li>
  <li><a href="#función-para-el-conteo-de-registros-observations" id="toc-función-para-el-conteo-de-registros-observations" class="nav-link" data-scroll-target="#función-para-el-conteo-de-registros-observations">2. Función para el conteo de registros <code>observations()</code></a>
  <ul class="collapse">
  <li><a href="#definición-de-la-función-1" id="toc-definición-de-la-función-1" class="nav-link" data-scroll-target="#definición-de-la-función-1">2.1 Definición de la función</a></li>
  <li><a href="#inicialización-del-contador-de-observaciones" id="toc-inicialización-del-contador-de-observaciones" class="nav-link" data-scroll-target="#inicialización-del-contador-de-observaciones">2.2 Inicialización del contador de observaciones</a></li>
  <li><a href="#iteración-sobre-los-meses-1" id="toc-iteración-sobre-los-meses-1" class="nav-link" data-scroll-target="#iteración-sobre-los-meses-1">2.3 Iteración sobre los meses</a></li>
  <li><a href="#obtener-datos-del-mes-iterado" id="toc-obtener-datos-del-mes-iterado" class="nav-link" data-scroll-target="#obtener-datos-del-mes-iterado">2.4 Obtener datos del mes iterado</a></li>
  <li><a href="#contar-y-acumular-observaciones" id="toc-contar-y-acumular-observaciones" class="nav-link" data-scroll-target="#contar-y-acumular-observaciones">2.5 Contar y acumular observaciones</a></li>
  <li><a href="#verificación-del-número-de-observaciones" id="toc-verificación-del-número-de-observaciones" class="nav-link" data-scroll-target="#verificación-del-número-de-observaciones">2.6 Verificación del número de observaciones</a></li>
  <li><a href="#mensajes-de-resultado" id="toc-mensajes-de-resultado" class="nav-link" data-scroll-target="#mensajes-de-resultado">2.7 Mensajes de resultado</a></li>
  <li><a href="#llamada-a-la-función-1" id="toc-llamada-a-la-función-1" class="nav-link" data-scroll-target="#llamada-a-la-función-1">2.8 Llamada a la Función</a></li>
  <li><a href="#retorno-de-la-función-1" id="toc-retorno-de-la-función-1" class="nav-link" data-scroll-target="#retorno-de-la-función-1">2.9 Retorno de la función</a></li>
  </ul></li>
  <li><a href="#función-para-verificar-duplicados-duplicate" id="toc-función-para-verificar-duplicados-duplicate" class="nav-link" data-scroll-target="#función-para-verificar-duplicados-duplicate">3. Función para verificar duplicados <code>duplicate()</code></a>
  <ul class="collapse">
  <li><a href="#definición-de-la-función-2" id="toc-definición-de-la-función-2" class="nav-link" data-scroll-target="#definición-de-la-función-2">3.1 Definición de la Función</a></li>
  <li><a href="#identificación-de-filas-duplicadas" id="toc-identificación-de-filas-duplicadas" class="nav-link" data-scroll-target="#identificación-de-filas-duplicadas">3.2 Identificación de filas duplicadas</a></li>
  <li><a href="#verificación-de-la-presencia-de-duplicados" id="toc-verificación-de-la-presencia-de-duplicados" class="nav-link" data-scroll-target="#verificación-de-la-presencia-de-duplicados">3.3 Verificación de la presencia de duplicados</a></li>
  <li><a href="#retorno-de-mensajes-de-resultados" id="toc-retorno-de-mensajes-de-resultados" class="nav-link" data-scroll-target="#retorno-de-mensajes-de-resultados">3.4 Retorno de mensajes de resultados</a></li>
  <li><a href="#llamada-a-la-función-2" id="toc-llamada-a-la-función-2" class="nav-link" data-scroll-target="#llamada-a-la-función-2">3.5 Llamada a la función</a></li>
  <li><a href="#retorno-de-la-función-2" id="toc-retorno-de-la-función-2" class="nav-link" data-scroll-target="#retorno-de-la-función-2">3.5 Retorno de la función</a></li>
  </ul></li>
  <li><a href="#función-para-validar-la-completitud-de-los-datos-en-las-variables-clave-missing_values" id="toc-función-para-validar-la-completitud-de-los-datos-en-las-variables-clave-missing_values" class="nav-link" data-scroll-target="#función-para-validar-la-completitud-de-los-datos-en-las-variables-clave-missing_values">4. Función para validar la completitud de los datos en las variables clave <code>missing_values()</code></a>
  <ul class="collapse">
  <li><a href="#definición-de-la-función-3" id="toc-definición-de-la-función-3" class="nav-link" data-scroll-target="#definición-de-la-función-3">4.1 Definición de la función</a></li>
  <li><a href="#aplicación-de-una-función-para-contar-valores-faltantes" id="toc-aplicación-de-una-función-para-contar-valores-faltantes" class="nav-link" data-scroll-target="#aplicación-de-una-función-para-contar-valores-faltantes">4.2 Aplicación de una función para contar valores faltantes</a></li>
  <li><a href="#llamada-a-la-función-para-identificar-valores-faltantes" id="toc-llamada-a-la-función-para-identificar-valores-faltantes" class="nav-link" data-scroll-target="#llamada-a-la-función-para-identificar-valores-faltantes">4.3 Llamada a la función para identificar valores faltantes</a></li>
  <li><a href="#retorno-de-la-función-3" id="toc-retorno-de-la-función-3" class="nav-link" data-scroll-target="#retorno-de-la-función-3">4.4 Retorno de la función</a></li>
  </ul></li>
  <li><a href="#verificación-de-variables-con-sufijos-select_suffix" id="toc-verificación-de-variables-con-sufijos-select_suffix" class="nav-link" data-scroll-target="#verificación-de-variables-con-sufijos-select_suffix">5. Verificación de Variables con Sufijos <code>select_suffix()</code></a>
  <ul class="collapse">
  <li><a href="#definición-de-la-función-4" id="toc-definición-de-la-función-4" class="nav-link" data-scroll-target="#definición-de-la-función-4">5.1 Definición de la Función</a></li>
  <li><a href="#crear-patrón-de-búsqueda" id="toc-crear-patrón-de-búsqueda" class="nav-link" data-scroll-target="#crear-patrón-de-búsqueda">5.2 Crear Patrón de Búsqueda</a></li>
  <li><a href="#buscar-columnas-que-coincidan-con-el-patrón" id="toc-buscar-columnas-que-coincidan-con-el-patrón" class="nav-link" data-scroll-target="#buscar-columnas-que-coincidan-con-el-patrón">5.3 Buscar Columnas que Coincidan con el Patrón</a></li>
  <li><a href="#verificar-la-presencia-de-columnas-coincidentes" id="toc-verificar-la-presencia-de-columnas-coincidentes" class="nav-link" data-scroll-target="#verificar-la-presencia-de-columnas-coincidentes">5.4 Verificar la Presencia de Columnas Coincidentes</a></li>
  <li><a href="#mostrar-las-columnas-coincidentes" id="toc-mostrar-las-columnas-coincidentes" class="nav-link" data-scroll-target="#mostrar-las-columnas-coincidentes">5.5 Mostrar las Columnas Coincidentes</a></li>
  <li><a href="#mostrar-mensaje-si-no-se-encontraron-coincidencias" id="toc-mostrar-mensaje-si-no-se-encontraron-coincidencias" class="nav-link" data-scroll-target="#mostrar-mensaje-si-no-se-encontraron-coincidencias">5.6 Mostrar Mensaje si No Se Encontraron Coincidencias</a></li>
  <li><a href="#ejemplo-de-uso-de-la-función" id="toc-ejemplo-de-uso-de-la-función" class="nav-link" data-scroll-target="#ejemplo-de-uso-de-la-función">5.7 Ejemplo de Uso de la Función</a></li>
  <li><a href="#retorno-de-la-función-4" id="toc-retorno-de-la-función-4" class="nav-link" data-scroll-target="#retorno-de-la-función-4">5.8 Retorno de la función</a></li>
  </ul></li>
  <li><a href="#funcion-para-la-validación-de-contenido-content_validation" id="toc-funcion-para-la-validación-de-contenido-content_validation" class="nav-link" data-scroll-target="#funcion-para-la-validación-de-contenido-content_validation">6. Funcion para la validación de contenido <code>content_validation()</code></a>
  <ul class="collapse">
  <li><a href="#definición-de-la-función-5" id="toc-definición-de-la-función-5" class="nav-link" data-scroll-target="#definición-de-la-función-5">6.1 Definición de la función</a></li>
  <li><a href="#creación-de-un-diccionario-de-meses" id="toc-creación-de-un-diccionario-de-meses" class="nav-link" data-scroll-target="#creación-de-un-diccionario-de-meses">6.2 Creación de un diccionario de meses</a></li>
  <li><a href="#obtención-de-los-datos-del-mes-específico" id="toc-obtención-de-los-datos-del-mes-específico" class="nav-link" data-scroll-target="#obtención-de-los-datos-del-mes-específico">6.3 Obtención de los datos del mes específico</a></li>
  <li><a href="#cálculo-de-resultados-por-mes" id="toc-cálculo-de-resultados-por-mes" class="nav-link" data-scroll-target="#cálculo-de-resultados-por-mes">6.4 Cálculo de resultados por mes</a></li>
  <li><a href="#cálculo-de-resultados-en-el-conjunto-de-datos-consolidado" id="toc-cálculo-de-resultados-en-el-conjunto-de-datos-consolidado" class="nav-link" data-scroll-target="#cálculo-de-resultados-en-el-conjunto-de-datos-consolidado">6.5 Cálculo de resultados en el conjunto de datos consolidado</a></li>
  <li><a href="#comparación-de-resultados-y-mensajes-de-resultado" id="toc-comparación-de-resultados-y-mensajes-de-resultado" class="nav-link" data-scroll-target="#comparación-de-resultados-y-mensajes-de-resultado">6.6 Comparación de resultados y mensajes de resultado</a></li>
  <li><a href="#llamada-a-la-función-para-validación" id="toc-llamada-a-la-función-para-validación" class="nav-link" data-scroll-target="#llamada-a-la-función-para-validación">6.7 Llamada a la función para validación</a></li>
  <li><a href="#retorno-de-la-función-5" id="toc-retorno-de-la-función-5" class="nav-link" data-scroll-target="#retorno-de-la-función-5">6.8 Retorno de la función</a></li>
  </ul></li>
  <li><a href="#apéndice" id="toc-apéndice" class="nav-link" data-scroll-target="#apéndice">Apéndice</a>
  <ul class="collapse">
  <li><a href="#función-verify_variables" id="toc-función-verify_variables" class="nav-link" data-scroll-target="#función-verify_variables">Función <code>verify_variables()</code></a></li>
  <li><a href="#función-observations" id="toc-función-observations" class="nav-link" data-scroll-target="#función-observations">Función <code>observations()</code></a></li>
  <li><a href="#función-duplicate" id="toc-función-duplicate" class="nav-link" data-scroll-target="#función-duplicate">Función <code>duplicate()</code></a></li>
  <li><a href="#función-missing_values" id="toc-función-missing_values" class="nav-link" data-scroll-target="#función-missing_values">Función <code>missing_values()</code></a></li>
  <li><a href="#función-select_suffix" id="toc-función-select_suffix" class="nav-link" data-scroll-target="#función-select_suffix">Función <code>select_suffix()</code></a></li>
  <li><a href="#función-content_validation" id="toc-función-content_validation" class="nav-link" data-scroll-target="#función-content_validation">Función <code>content_validation()</code></a></li>
  </ul></li>
  <li><a href="#contáctanos" id="toc-contáctanos" class="nav-link" data-scroll-target="#contáctanos">Contáctanos</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Revisión y Validación de Datos Consolidados (GEIH)</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Daniel Molina, Alic Barandica </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 29, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p><strong>Nota</strong>: Para realizar la validación de datos es recomendable haber seguido previamente la <a href="https://data-exploration.vercel.app/merge_geih_explication_functions.html" target="_blank">Guia: Pegado de la GEIH</a> o tener la base de datos completa de la GEIH descargada.</p>
<section id="preparación-de-para-la-validación" class="level2">
<h2 class="anchored" data-anchor-id="preparación-de-para-la-validación">Preparación de para la validación</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instalar y cargar el paquete 'data.table' si aún no está instalado</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("data.table")</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Importar la base de datos consolidada</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">fread</span>(<span class="st">"C:/data-exploration/geih_complete.csv"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Asegúrate de que la función 'merge_month()' esté disponible en tu entorno</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Puedes definir o cargar la función según sea necesario</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><strong>Instalar y Cargar Paquete:</strong></p>
<ul>
<li><p>Si aún no has instalado el paquete <code>data.table</code>, descomenta y ejecuta la línea <code>install.packages("data.table")</code>.</p></li>
<li><p>Luego, carga el paquete con <code>library(data.table)</code>. Esto es necesario para usar la función <code>fread()</code> para importar datos.</p></li>
</ul></li>
<li><p><strong>Importar Datos:</strong></p>
<ul>
<li><p>La función <code>fread()</code> de data.table se utiliza para leer archivos CSV de manera eficiente. Aquí, el archivo <code>geih_complete.csv</code> se importa y se asigna a la variable data.</p></li>
<li><p>Asegúrate de que la ruta especificada <code>"C:/data-exploration/geih_complete.csv"</code> sea correcta para tu dispositivo. Puedes verificar tu directorio de trabajo actual con <code>getwd()</code> y ajustar la ruta según sea necesario.</p></li>
</ul></li>
<li><p><strong>Preparativos Adicionales:</strong></p>
<ul>
<li>Asegúrate de que la función <code>merge_month()</code> haya sido definida previamente como se indico en la <a href="https://data-exploration.vercel.app/merge_geih_explication_functions.html" target="_blank">guia sobre el pegado de la GEIH</a>, ya que es necesaria para las operaciones posteriores. Define o carga esta función según sea necesario.</li>
</ul></li>
</ul>
</section>
<section id="función-para-verificar-la-estructura-de-los-datos-verify_variables" class="level2">
<h2 class="anchored" data-anchor-id="función-para-verificar-la-estructura-de-los-datos-verify_variables">1. Función para verificar la estructura de los datos <code>verify_variables()</code></h2>
<p>La función <code>verify_variables()</code> se utiliza para asegurar la consistencia en la estructura de los datos a través de diferentes meses. Su objetivo es garantizar que las columnas presentes en los datos de cada mes coincidan con las columnas de un conjunto de datos consolidado</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>base_dir <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="fu">getwd</span>(), <span class="st">"datos"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>months <span class="ot">&lt;-</span> <span class="fu">list.dirs</span>(<span class="at">path =</span> base_dir, <span class="at">full.names =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>verify_variables <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (month <span class="cf">in</span> months) {</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  month_data <span class="ot">&lt;-</span> <span class="fu">merge_month</span>(month)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">all</span>(<span class="fu">names</span>(month_data) <span class="sc">%in%</span> <span class="fu">names</span>(data))) {</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Todas las variables presentes en"</span>, month, <span class="st">"están presentes en los datos consolidados"</span>))</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Existen variables presentes en"</span>, month, <span class="st">"que no se encuentran presentes en los datos consolidados"</span>))</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="fu">verify_variables</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="definir-el-directorio-base" class="level3">
<h3 class="anchored" data-anchor-id="definir-el-directorio-base">1.1 Definir el directorio base</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>base_dir <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="fu">getwd</span>(), <span class="st">"datos"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La variable <code>base_dir</code> almacena la ruta hacia un subdirectorio llamado “datos” dentro del directorio de trabajo actual, obtenido mediante <code>getwd()</code>. La función <code>file.path()</code> se encarga de construir la ruta de forma segura y correcta, adaptándose automáticamente al sistema operativo, lo que asegura la portabilidad del código al manejar los separadores de ruta apropiados.</p>
</section>
<section id="listar-los-subdirectorios" class="level3">
<h3 class="anchored" data-anchor-id="listar-los-subdirectorios">1.2 Listar los subdirectorios</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>months <span class="ot">&lt;-</span> <span class="fu">list.dirs</span>(<span class="at">path =</span> base_dir, <span class="at">full.names =</span> <span class="cn">FALSE</span>, <span class="at">recursive =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>En esta línea, se utiliza la función <code>list.dirs()</code> para crear una lista de subdirectorios contenidos en el directorio especificado por <code>base_dir.</code> El argumento <code>path = base_dir</code> indica que se listarán los directorios dentro del directorio base definido anteriormente. <code>full.names = FALSE</code> significa que los nombres de los directorios se devolverán como nombres simples (sin incluir la ruta completa), mientras que <code>recursive = FALSE</code> especifica que solo se listarán los subdirectorios de nivel superior, es decir, no se explorarán subdirectorios dentro de otros subdirectorios. El resultado es una lista de nombres de directorios de nivel superior en la carpeta <code>datos</code>, que representa probablemente los datos organizados por meses.</p>
</section>
<section id="definición-de-la-función" class="level3">
<h3 class="anchored" data-anchor-id="definición-de-la-función">1.3 Definición de la función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>verify_variables <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Aquí se define una nueva función llamada <code>verify_variables</code>. Esta función no toma ningún argumento y su propósito es verificar que las variables (columnas) en los datos de cada mes coincidan con las variables en la data consolidada.</p>
</section>
<section id="iteración-sobre-los-meses" class="level3">
<h3 class="anchored" data-anchor-id="iteración-sobre-los-meses">1.4 Iteración sobre los Meses</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (month <span class="cf">in</span> months) {</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Se utiliza un bucle for para iterar sobre cada mes en el vector <code>months.</code> En cada iteración, la variable <code>month</code> tomará el valor de uno de los meses, por ejemplo, <code>"enero", "febrero", etc</code>.</p>
</section>
<section id="obtener-datos-del-mes" class="level3">
<h3 class="anchored" data-anchor-id="obtener-datos-del-mes">1.5 Obtener Datos del Mes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>month_data <span class="ot">&lt;-</span> <span class="fu">merge_month</span>(month)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dentro del bucle, se llama a la función <code>merge_month()</code> con el nombre del mes actual como argumento. Esta función debería devolver un data frame que contiene los datos para el mes especificado. El resultado se guarda en la variable <code>month_data.</code></p>
</section>
<section id="comparación-de-nombres-de-columnas" class="level3">
<h3 class="anchored" data-anchor-id="comparación-de-nombres-de-columnas">1.6 Comparación de Nombres de Columnas</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">all</span>(<span class="fu">names</span>(month_data) <span class="sc">%in%</span> <span class="fu">names</span>(data))) {</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Se verifica si todos los nombres de las columnas en month_data están presentes en <code>names(data)</code>, que es un vector con los nombres de las columnas en la data consolidada. La función <code>names()</code> obtiene los nombres de las columnas de un data frame, y <code>%in%</code> verifica si cada nombre de columna de <code>month_data</code> está en el conjunto de nombres de columnas de data. La función <code>all()</code> asegura que la condición sea verdadera para todas las columnas.</p>
</section>
<section id="mensaje-de-resultados" class="level3">
<h3 class="anchored" data-anchor-id="mensaje-de-resultados">1.7 Mensaje de Resultados</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Todas las variables presentes en"</span>, month, <span class="st">"están presentes en los datos consolidados"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si todas las columnas de <code>month_data</code> están presentes en la data consolidada, se imprime un mensaje indicando que las variables son las mismas que las del mes actual.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Existen variables presentes en"</span>, month, <span class="st">"que no se encuentran presentes en los datos consolidados"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si alguna columna de <code>month_data</code> no está en la data consolidada, se imprime un mensaje indicando que las variables no son las mismas que las del mes actual.</p>
</section>
<section id="llamada-a-la-función" class="level3">
<h3 class="anchored" data-anchor-id="llamada-a-la-función">1.8 Llamada a la Función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">verify_variables</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finalmente, la función <code>verify_variables()</code> es llamada para ejecutar la verificación. Esto dispara la ejecución del bucle <code>for</code> y la verificación de columnas para cada mes especificado en el vector <code>months</code>.</p>
</section>
<section id="retorno-de-la-función" class="level3">
<h3 class="anchored" data-anchor-id="retorno-de-la-función">1.9 Retorno de la función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Todas las variables presentes en abril están presentes en los datos consolidados"</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Todas las variables presentes en enero están presentes en los datos consolidados"</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Todas las variables presentes en febrero están presentes en los datos consolidados"</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Todas las variables presentes en junio están presentes en los datos consolidados"</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Todas las variables presentes en marzo están presentes en los datos consolidados"</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"Todas las variables presentes en mayo están presentes en los datos consolidados"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="función-para-el-conteo-de-registros-observations" class="level2">
<h2 class="anchored" data-anchor-id="función-para-el-conteo-de-registros-observations">2. Función para el conteo de registros <code>observations()</code></h2>
<p>La función <code>observations()</code> asegura la consistencia en el número de observaciones a lo largo de un conjunto de datos de diferentes meses.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>observations <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  total_obs <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (month <span class="cf">in</span> months) {</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    month_data <span class="ot">&lt;-</span> <span class="fu">merge_month</span>(month)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    total_obs <span class="ot">&lt;-</span> total_obs <span class="sc">+</span> <span class="fu">nrow</span>(month_data)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (total_obs <span class="sc">==</span> <span class="fu">nrow</span>(data)) { </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"El número de observaciones es correcto"</span>) </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> { </span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">print</span>(<span class="st">"El número de observaciones no es correcto"</span>) </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="fu">observations</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="definición-de-la-función-1" class="level3">
<h3 class="anchored" data-anchor-id="definición-de-la-función-1">2.1 Definición de la función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>observations <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Aquí se define una nueva función llamada <code>observations()</code>. Esta función no recibe ningún argumento y su objetivo es verificar si el número total de observaciones en la data consolidada coincide con la suma de las observaciones de cada mes.</p>
</section>
<section id="inicialización-del-contador-de-observaciones" class="level3">
<h3 class="anchored" data-anchor-id="inicialización-del-contador-de-observaciones">2.2 Inicialización del contador de observaciones</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>total_obs <span class="ot">&lt;-</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Se inicializa una variable llamada total_obs con el valor <code>0</code>. Esta variable se utilizará para acumular el total de observaciones de todos los meses.</p>
</section>
<section id="iteración-sobre-los-meses-1" class="level3">
<h3 class="anchored" data-anchor-id="iteración-sobre-los-meses-1">2.3 Iteración sobre los meses</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (month <span class="cf">in</span> months) {</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Se utiliza un bucle <code>for</code> para iterar sobre cada mes en el vector <code>months.</code> En cada iteración, la variable <code>month</code> toma el valor de uno de los meses por ejemplo, <code>"enero", "febrero", etc.</code>.</p>
</section>
<section id="obtener-datos-del-mes-iterado" class="level3">
<h3 class="anchored" data-anchor-id="obtener-datos-del-mes-iterado">2.4 Obtener datos del mes iterado</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>month_data <span class="ot">&lt;-</span> <span class="fu">merge_month</span>(month)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dentro del bucle, se llama a la función <code>merge_month()</code> con el nombre del mes actual como argumento. Esta función debería devolver un data frame que contiene los datos para el mes especificado. El resultado se guarda en la variable <code>month_data</code>.</p>
</section>
<section id="contar-y-acumular-observaciones" class="level3">
<h3 class="anchored" data-anchor-id="contar-y-acumular-observaciones">2.5 Contar y acumular observaciones</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>total_obs <span class="ot">&lt;-</span> total_obs <span class="sc">+</span> <span class="fu">nrow</span>(month_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Se cuenta el número de filas (<code>observaciones</code>) en <code>month_data</code> utilizando <code>nrow(month_data)</code> y se suma al contador <code>total_obs.</code> Esta operación se repite para cada mes, acumulando el total de observaciones.</p>
</section>
<section id="verificación-del-número-de-observaciones" class="level3">
<h3 class="anchored" data-anchor-id="verificación-del-número-de-observaciones">2.6 Verificación del número de observaciones</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (total_obs <span class="sc">==</span> <span class="fu">nrow</span>(data)) {</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Una vez que se ha acumulado el total de observaciones para todos los meses, se compara este total con el número de filas en la data consolidada (usando <code>nrow(data)</code>). La función <code>nrow()</code> obtiene el número de filas en un dataframe o data table.</p>
</section>
<section id="mensajes-de-resultado" class="level3">
<h3 class="anchored" data-anchor-id="mensajes-de-resultado">2.7 Mensajes de resultado</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"El número de observaciones es correcto"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si el total de observaciones calculado coincide con el número de filas en la data consolidada, se imprime el mensaje <code>"El número de observaciones es correcto"</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"El número de observaciones no es correcto"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si el total de observaciones calculado no coincide con el número de filas en la data consolidada, se imprime el mensaje <code>"El número de observaciones no es correcto"</code>.</p>
</section>
<section id="llamada-a-la-función-1" class="level3">
<h3 class="anchored" data-anchor-id="llamada-a-la-función-1">2.8 Llamada a la Función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">observations</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finalmente, se llama a la función<code>observations()</code> para ejecutar el código y realizar la verificación del número total de observaciones.</p>
</section>
<section id="retorno-de-la-función-1" class="level3">
<h3 class="anchored" data-anchor-id="retorno-de-la-función-1">2.9 Retorno de la función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"El número de observaciones es correcto"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="función-para-verificar-duplicados-duplicate" class="level2">
<h2 class="anchored" data-anchor-id="función-para-verificar-duplicados-duplicate">3. Función para verificar duplicados <code>duplicate()</code></h2>
<p>La función <code>observations()</code> asegura la consistencia en el número de observaciones a lo largo de un conjunto de datos de diferentes meses.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>duplicate <span class="ot">&lt;-</span> <span class="cf">function</span>(data) {</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  duplicate <span class="ot">&lt;-</span> data[<span class="fu">duplicated</span>(data)]</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Verifica si hay filas duplicadas </span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nrow</span>(duplicate) <span class="sc">==</span> <span class="dv">0</span>) { </span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"No hay duplicados por fila"</span>) </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> { </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"Hay duplicados por fila"</span>) </span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="fu">duplicate</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="definición-de-la-función-2" class="level3">
<h3 class="anchored" data-anchor-id="definición-de-la-función-2">3.1 Definición de la Función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>duplicados <span class="ot">&lt;-</span> <span class="cf">function</span>(data) {</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Esta línea define una nueva función llamada <code>duplicate.</code> La función toma un argumento data, que representa el conjunto de datos en el cual se quiere verificar la presencia de filas duplicadas.</p>
</section>
<section id="identificación-de-filas-duplicadas" class="level3">
<h3 class="anchored" data-anchor-id="identificación-de-filas-duplicadas">3.2 Identificación de filas duplicadas</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>duplicate <span class="ot">&lt;-</span> data[<span class="fu">duplicated</span>(data)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>En esta línea, se utiliza la función <code>duplicated(data)</code> para identificar las filas duplicadas en el conjunto de datos <code>data</code>. La función <code>duplicated()</code> devuelve un vector lógico del mismo largo que data, donde cada elemento es <code>TRUE</code> si la fila correspondiente es un duplicado de una fila anterior y <code>FALSE</code> en caso contrario. Al utilizar este vector lógico para indexar <code>data</code>, se obtienen todas las filas duplicadas y se almacenan en un nuevo dataframe llamado <code>duplicate.</code></p>
</section>
<section id="verificación-de-la-presencia-de-duplicados" class="level3">
<h3 class="anchored" data-anchor-id="verificación-de-la-presencia-de-duplicados">3.3 Verificación de la presencia de duplicados</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">nrow</span>(duplicado) <span class="sc">==</span> <span class="dv">0</span>) {</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Esta línea de código verifica si el número de filas en el data frame duplicate es igual a <code>0</code> utilizando la función <code>nrow()</code>, que cuenta el número de filas. Si<code>nrow(duplicado)</code> es <code>0</code>, significa que no se encontraron filas duplicadas en el conjunto de datos original data.</p>
</section>
<section id="retorno-de-mensajes-de-resultados" class="level3">
<h3 class="anchored" data-anchor-id="retorno-de-mensajes-de-resultados">3.4 Retorno de mensajes de resultados</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"No hay duplicados por fila"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si la verificación anterior es verdadera (es decir, no hay duplicados), se imprime un mensaje indicando que<code>"No hay duplicados por fila"</code>. Esto confirma que todas las filas del conjunto de datos son únicas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Hay duplicados por fila"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Si la verificación es falsa (es decir, hay al menos una fila duplicada), se imprime un mensaje indicando que <code>"Hay duplicados por fila"</code>. Esto señala que el conjunto de datos contiene duplicados y que es necesario manejarlos para asegurar la integridad de los datos.</p>
</section>
<section id="llamada-a-la-función-2" class="level3">
<h3 class="anchored" data-anchor-id="llamada-a-la-función-2">3.5 Llamada a la función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">duplicate</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finalmente, se llama a la función <code>duplicate()</code> pasando como argumento el conjunto de datos <code>data.</code> Esta llamada ejecuta la función y realiza la verificación de duplicados en el conjunto de datos proporcionado.</p>
</section>
<section id="retorno-de-la-función-2" class="level3">
<h3 class="anchored" data-anchor-id="retorno-de-la-función-2">3.5 Retorno de la función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"No hay duplicados por fila"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="función-para-validar-la-completitud-de-los-datos-en-las-variables-clave-missing_values" class="level2">
<h2 class="anchored" data-anchor-id="función-para-validar-la-completitud-de-los-datos-en-las-variables-clave-missing_values">4. Función para validar la completitud de los datos en las variables clave <code>missing_values()</code></h2>
<p>La función <code>duplicate()</code> se utiliza para verificar la existencia de filas duplicadas en un conjunto de datos específico.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>missing_values <span class="ot">&lt;-</span> <span class="cf">function</span>(data, ...) {</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  data[, <span class="fu">lapply</span>(.SD, <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="fu">is.na</span>(x))), .SDcols <span class="ot">=</span> <span class="fu">c</span>(...)] </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">missing_values</span>(data, <span class="st">"DIRECTORIO"</span>, <span class="st">"SECUENCIA_P"</span>, <span class="st">"ORDEN"</span>, <span class="st">"HOGAR"</span>, <span class="st">"FEX_C18"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="definición-de-la-función-3" class="level3">
<h3 class="anchored" data-anchor-id="definición-de-la-función-3">4.1 Definición de la función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>missing_values <span class="ot">&lt;-</span> <span class="cf">function</span>(data, ...) {</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Esta línea define una nueva función llamada missing_values. La función toma un argumento data, que es el conjunto de datos a analizar, y un argumento variable <code>...</code> que permite pasar múltiples nombres de columnas. Estos nombres de columnas representan las variables en las que se desea verificar la presencia de valores faltantes <code>NA</code>.</p>
</section>
<section id="aplicación-de-una-función-para-contar-valores-faltantes" class="level3">
<h3 class="anchored" data-anchor-id="aplicación-de-una-función-para-contar-valores-faltantes">4.2 Aplicación de una función para contar valores faltantes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>data[, <span class="fu">lapply</span>(.SD, <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="fu">is.na</span>(x))), .SDcols <span class="ot">=</span> <span class="fu">c</span>(...)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Esta línea utiliza la sintaxis de <code>data.table</code> para contar los valores faltantes en las columnas especificadas. A continuación se desglosa cómo funciona esta línea:</p>
<ul>
<li><p><code>data[, ...]</code>: Esto indica que se está aplicando una operación a <code>data.</code> La coma antes del paréntesis indica que se están seleccionando columnas específicas o realizando operaciones en columnas, sin modificar filas.</p></li>
<li><p><code>lapply(.SD, function(x) sum(is.na(x)))</code>: Aquí se utiliza <code>lapply()</code> para aplicar una función a cada columna especificada. <code>.SD</code> (Subset of Data) es una característica de <code>data.table</code> que representa las columnas especificadas en <code>.SDcols</code>. La función anónima <code>function(x) sum(is.na(x))</code> cuenta el número de valores <code>NA</code> en cada columna al aplicar <code>is.na(x)</code> para identificar valores faltantes y <code>sum()</code> para contar cuántos de esos valores existen.</p></li>
<li><p><code>.SDcols = c(...)</code>: Esta parte especifica las columnas en las que se aplicará la función. <code>c(...)</code> indica que las columnas serán las proporcionadas como argumentos variables a la función<code>missing_values()</code>. Esto permite flexibilidad para verificar diferentes columnas según sea necesario.</p></li>
</ul>
</section>
<section id="llamada-a-la-función-para-identificar-valores-faltantes" class="level3">
<h3 class="anchored" data-anchor-id="llamada-a-la-función-para-identificar-valores-faltantes">4.3 Llamada a la función para identificar valores faltantes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">missing_values</span>(data, <span class="st">"DIRECTORIO"</span>, <span class="st">"SECUENCIA_P"</span>, <span class="st">"ORDEN"</span>, <span class="st">"HOGAR"</span>, <span class="st">"FEX_C18"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Aquí se llama a la función <code>missing_values()</code> pasando el conjunto de datos data y una lista de nombres de columnas: <code>"DIRECTORIO", "SECUENCIA_P", "ORDEN", "HOGAR", y "FEX_C18"</code>. Esta llamada a la función genera una tabla que muestra el número de valores faltantes en cada una de estas columnas.</p>
</section>
<section id="retorno-de-la-función-3" class="level3">
<h3 class="anchored" data-anchor-id="retorno-de-la-función-3">4.4 Retorno de la función</h3>
<p>Lo que se espera es que las variables seleccionadas (variables clave) no tengan ningún valor nulo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>      DIRECTORIO SECUENCIA_P ORDEN HOGAR FEX_C18</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>          <span class="sc">&lt;</span>int<span class="sc">&gt;</span>       <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>int<span class="sc">&gt;</span>   <span class="er">&lt;</span>int<span class="sc">&gt;</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>            <span class="dv">0</span>           <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span>       <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="verificación-de-variables-con-sufijos-select_suffix" class="level2">
<h2 class="anchored" data-anchor-id="verificación-de-variables-con-sufijos-select_suffix">5. Verificación de Variables con Sufijos <code>select_suffix()</code></h2>
<p>La función <code>select_suffix()</code> permite seleccionar y mostrar columnas de un <code>data.table</code> que terminan en los sufijos especificados. Si no se encuentran columnas con los sufijos proporcionados, la función informa al usuario.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>select_suffix <span class="ot">&lt;-</span> <span class="cf">function</span>(data, <span class="at">sufijos =</span> <span class="st">"x"</span>) {</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  regex_pattern <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">.("</span>, <span class="fu">paste</span>(sufijos, <span class="at">collapse =</span> <span class="st">"|"</span>), <span class="st">")$"</span>)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  matching_cols <span class="ot">&lt;-</span> <span class="fu">grep</span>(regex_pattern, <span class="fu">names</span>(data), <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(matching_cols) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    result <span class="ot">&lt;-</span> data[, ..matching_cols]</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(result)</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"No hay variables que terminen en "</span>, <span class="fu">paste</span>(sufijos, <span class="at">collapse =</span> <span class="st">", "</span>)))</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a><span class="fu">select_suffix</span>(data, <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"z"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="definición-de-la-función-4" class="level3">
<h3 class="anchored" data-anchor-id="definición-de-la-función-4">5.1 Definición de la Función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>select_suffix <span class="ot">&lt;-</span> <span class="cf">function</span>(data, <span class="at">sufijos =</span> <span class="st">"x"</span>) {</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong><code>select_suffix</code></strong>: Define una función que toma dos argumentos:</p>
<ul>
<li><p><strong><code>data</code></strong>: Un <code>data.table</code> del que se seleccionarán las columnas.</p></li>
<li><p><strong><code>sufijos</code></strong>: Un vector de sufijos para buscar en los nombres de las columnas. El valor predeterminado es <code>"x"</code>.</p></li>
</ul>
</section>
<section id="crear-patrón-de-búsqueda" class="level3">
<h3 class="anchored" data-anchor-id="crear-patrón-de-búsqueda">5.2 Crear Patrón de Búsqueda</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>regex_pattern <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">.("</span>, <span class="fu">paste</span>(sufijos, <span class="at">collapse =</span> <span class="st">"|"</span>), <span class="st">")$"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong><code>regex_pattern</code></strong>: Construye un patrón de expresión regular para buscar columnas cuyos nombres terminen con los sufijos especificados.</p>
<ul>
<li><p><strong><code>paste(sufijos, collapse = "|")</code></strong>: Une los sufijos en una cadena separada por el símbolo <code>|</code>, que en las expresiones regulares actúa como “o”. Por ejemplo, si <code>sufijos</code> es <code>c("x", "y")</code>, el patrón será <code>\\.("x|y")$</code>.</p></li>
<li><p><strong><code>paste0("\\.(", ..., ")$")</code></strong>: Añade el prefijo <code>\\.</code> (para coincidir con un punto literal) y el sufijo <code>$</code> (para indicar el final del nombre de la columna).</p></li>
</ul>
</section>
<section id="buscar-columnas-que-coincidan-con-el-patrón" class="level3">
<h3 class="anchored" data-anchor-id="buscar-columnas-que-coincidan-con-el-patrón">5.3 Buscar Columnas que Coincidan con el Patrón</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>matching_cols <span class="ot">&lt;-</span> <span class="fu">grep</span>(regex_pattern, <span class="fu">names</span>(data), <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong><code>matching_cols</code></strong>: Utiliza <code>grep()</code> para buscar nombres de columnas en <code>data</code> que coincidan con el patrón.</p>
<ul>
<li><p><strong><code>regex_pattern</code></strong>: El patrón de búsqueda creado anteriormente.</p></li>
<li><p><strong><code>names(data)</code></strong>: Obtiene los nombres de las columnas de <code>data</code>.</p></li>
<li><p><strong><code>value = TRUE</code></strong>: Devuelve los nombres de las columnas que coinciden con el patrón.</p></li>
</ul>
</section>
<section id="verificar-la-presencia-de-columnas-coincidentes" class="level3">
<h3 class="anchored" data-anchor-id="verificar-la-presencia-de-columnas-coincidentes">5.4 Verificar la Presencia de Columnas Coincidentes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(matching_cols) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong><code>if (length(matching_cols) &gt; 0)</code></strong>: Verifica si se encontraron columnas que coinciden con el patrón. <code>length(matching_cols)</code> devuelve el número de columnas encontradas.</p>
</section>
<section id="mostrar-las-columnas-coincidentes" class="level3">
<h3 class="anchored" data-anchor-id="mostrar-las-columnas-coincidentes">5.5 Mostrar las Columnas Coincidentes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> data[, ..matching_cols]</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(result)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><strong><code>result</code></strong>: Selecciona las columnas coincidentes del <code>data.table</code> y las almacena en <code>result</code>.</p></li>
<li><p><strong><code>print(result)</code></strong>: Muestra las columnas coincidentes.</p></li>
</ul>
</section>
<section id="mostrar-mensaje-si-no-se-encontraron-coincidencias" class="level3">
<h3 class="anchored" data-anchor-id="mostrar-mensaje-si-no-se-encontraron-coincidencias">5.6 Mostrar Mensaje si No Se Encontraron Coincidencias</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"No hay variables que terminen en "</span>, <span class="fu">paste</span>(sufijos, <span class="at">collapse =</span> <span class="st">", "</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong><code>print(paste0(...))</code></strong>: Imprime un mensaje indicando que no se encontraron columnas que terminen con los sufijos especificados.</li>
</ul>
</section>
<section id="ejemplo-de-uso-de-la-función" class="level3">
<h3 class="anchored" data-anchor-id="ejemplo-de-uso-de-la-función">5.7 Ejemplo de Uso de la Función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select_suffix</span>(data, <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"z"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong><code>select_suffix(data, c("x", "y", "z"))</code></strong>: Llama a la función <code>select_suffix()</code> con <code>data</code> y los sufijos <code>c("x", "y", "z")</code> para buscar y mostrar las columnas que terminan en estos sufijos.</p>
</section>
<section id="retorno-de-la-función-4" class="level3">
<h3 class="anchored" data-anchor-id="retorno-de-la-función-4">5.8 Retorno de la función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"No hay variables que terminen en x, y, z"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="funcion-para-la-validación-de-contenido-content_validation" class="level2">
<h2 class="anchored" data-anchor-id="funcion-para-la-validación-de-contenido-content_validation">6. Funcion para la validación de contenido <code>content_validation()</code></h2>
<p>La función <code>content_validation``()</code> se utiliza para verificar la consistencia de los datos entre un conjunto de datos mensual específico y un conjunto de datos consolidado.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>content_validation <span class="ot">&lt;-</span> <span class="cf">function</span>(data, month, by_col, ...) { </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  months_dictionary <span class="ot">&lt;-</span> <span class="fu">list</span>( </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"enero"</span> <span class="ot">=</span> <span class="dv">1</span>, </span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"febrero"</span> <span class="ot">=</span> <span class="dv">2</span>, </span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"marzo"</span> <span class="ot">=</span> <span class="dv">3</span>, </span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"abril"</span> <span class="ot">=</span> <span class="dv">4</span>, </span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"mayo"</span> <span class="ot">=</span> <span class="dv">5</span>, </span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"junio"</span> <span class="ot">=</span> <span class="dv">6</span>, </span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"julio"</span> <span class="ot">=</span> <span class="dv">7</span>, </span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"agosto"</span> <span class="ot">=</span> <span class="dv">8</span>, </span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"septiembre"</span> <span class="ot">=</span> <span class="dv">9</span>, </span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"octubre"</span> <span class="ot">=</span> <span class="dv">10</span>, </span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"noviembre"</span> <span class="ot">=</span> <span class="dv">11</span>, </span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"diciembre"</span> <span class="ot">=</span> <span class="dv">12</span> </span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>  month_data <span class="ot">&lt;-</span> <span class="fu">merge_month</span>(month) </span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>  total_complete_data <span class="ot">&lt;-</span> month_data[, <span class="fu">lapply</span>(.SD, <span class="cf">function</span>(x) <span class="fu">sum</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)), .SDcols <span class="ot">=</span> <span class="fu">c</span>(...), by <span class="ot">=</span> by_col] </span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>  total_month_data <span class="ot">&lt;-</span> data[MES <span class="sc">==</span> months_dictionary[[month]], <span class="fu">lapply</span>(.SD, <span class="cf">function</span>(x) <span class="fu">sum</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)), .SDcols <span class="ot">=</span> <span class="fu">c</span>(...), by <span class="ot">=</span> by_col]</span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">all</span>(total_complete_data <span class="sc">==</span> total_month_data)) { </span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"El contenido coincide"</span>) </span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> { </span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="st">"El contenido no coincide"</span>) </span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a><span class="fu">content_validation</span>(data, <span class="st">"marzo"</span>, <span class="st">"DPTO"</span>, <span class="fu">c</span>(<span class="st">"OCI"</span>, <span class="st">"P7360"</span>, <span class="st">"P9460"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="definición-de-la-función-5" class="level3">
<h3 class="anchored" data-anchor-id="definición-de-la-función-5">6.1 Definición de la función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>validacion <span class="ot">&lt;-</span> <span class="cf">function</span>(data, month, by_col, ...) {</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Esta línea define una nueva función llamada <code>content_validation()</code> La función toma cuatro argumentos:</p>
<ul>
<li><p><code>data</code>: El conjunto de datos consolidado en el que se verificará la consistencia.</p></li>
<li><p><code>month</code>: El mes específico que se quiere validar.</p></li>
<li><p><code>by_col</code>: La columna por la cual se agruparán los datos para la comparación.</p></li>
<li><p><code>...</code>: Un argumento variable que permite especificar múltiples columnas para las cuales se sumarán los valores durante la validación.</p></li>
</ul>
</section>
<section id="creación-de-un-diccionario-de-meses" class="level3">
<h3 class="anchored" data-anchor-id="creación-de-un-diccionario-de-meses">6.2 Creación de un diccionario de meses</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>months_dictionary <span class="ot">&lt;-</span> <span class="fu">list</span>( </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"enero"</span> <span class="ot">=</span> <span class="dv">1</span>, </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"febrero"</span> <span class="ot">=</span> <span class="dv">2</span>, </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"marzo"</span> <span class="ot">=</span> <span class="dv">3</span>, </span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"abril"</span> <span class="ot">=</span> <span class="dv">4</span>, </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"mayo"</span> <span class="ot">=</span> <span class="dv">5</span>, </span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"junio"</span> <span class="ot">=</span> <span class="dv">6</span>, </span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"julio"</span> <span class="ot">=</span> <span class="dv">7</span>, </span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"agosto"</span> <span class="ot">=</span> <span class="dv">8</span>, </span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"septiembre"</span> <span class="ot">=</span> <span class="dv">9</span>, </span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"octubre"</span> <span class="ot">=</span> <span class="dv">10</span>, </span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"noviembre"</span> <span class="ot">=</span> <span class="dv">11</span>, </span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"diciembre"</span> <span class="ot">=</span> <span class="dv">12</span> </span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Aquí se crea una lista llamada <code>months_dictionary</code> que asocia nombres de meses con sus correspondientes números de mes. Esta lista facilita la conversión del nombre del mes proporcionado en el argumento <code>month</code> a su número de mes equivalente.</p>
</section>
<section id="obtención-de-los-datos-del-mes-específico" class="level3">
<h3 class="anchored" data-anchor-id="obtención-de-los-datos-del-mes-específico">6.3 Obtención de los datos del mes específico</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>month_data <span class="ot">&lt;-</span> <span class="fu">merge_month</span>(month)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Se llama a la función <code>merge_month()</code> con el nombre del mes especificado en month para obtener los datos correspondientes a ese mes. El resultado es un data frame llamado <code>month_data</code> que contiene la información para el mes actual.</p>
</section>
<section id="cálculo-de-resultados-por-mes" class="level3">
<h3 class="anchored" data-anchor-id="cálculo-de-resultados-por-mes">6.4 Cálculo de resultados por mes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>total_complete_data <span class="ot">&lt;-</span> month_data[, <span class="fu">lapply</span>(.SD, <span class="cf">function</span>(x) <span class="fu">sum</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)), .SDcols <span class="ot">=</span> <span class="fu">c</span>(...), by <span class="ot">=</span> by_col]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><code>.SD</code>: Es un data table subset que contiene solo las columnas especificadas en <code>.SDcols</code>.</p></li>
<li><p><code>lapply(.SD, function(x) sum(x, na.rm = TRUE))</code>: Aplica una función a cada columna en <code>.SD</code>. La función cuenta la suma de los valores en cada columna, ignorando los valores <code>NA</code>.</p></li>
<li><p><code>.SDcols = c(...)</code>: Especifica las columnas a las cuales aplicar la función. <code>c(...)</code> permite pasar múltiples nombres de columnas.</p></li>
<li><p><code>by = by_col</code>: Agrupa los resultados por la columna especificada en <code>by_col</code>.</p></li>
</ul>
<p>El resultado, <code>total_complete_data</code>, es un data frame con la suma de valores para cada columna especificada, agrupado por la columna de agrupamiento en <code>month_data</code>.</p>
</section>
<section id="cálculo-de-resultados-en-el-conjunto-de-datos-consolidado" class="level3">
<h3 class="anchored" data-anchor-id="cálculo-de-resultados-en-el-conjunto-de-datos-consolidado">6.5 Cálculo de resultados en el conjunto de datos consolidado</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>total_month_data <span class="ot">&lt;-</span> data[MES <span class="sc">==</span> months_dictionary[[month]], <span class="fu">lapply</span>(.SD, <span class="cf">function</span>(x) <span class="fu">sum</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)), .SDcols <span class="ot">=</span> <span class="fu">c</span>(...), by <span class="ot">=</span> by_col]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><code>data[MES == months_dictionary[[month]]]</code>: Filtra el conjunto de datos consolidado data para seleccionar solo las filas correspondientes al mes especificado. El número del mes se obtiene del <code>months_dictionary</code>.</p></li>
<li><p>El cálculo realizado es similar al de <code>total_complete_data</code>: se suman los valores en las columnas especificadas, agrupados por la columna <code>by_col</code>.</p></li>
</ul>
</section>
<section id="comparación-de-resultados-y-mensajes-de-resultado" class="level3">
<h3 class="anchored" data-anchor-id="comparación-de-resultados-y-mensajes-de-resultado">6.6 Comparación de resultados y mensajes de resultado</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">all</span>(total_complete_data <span class="sc">==</span> total_month_data)) { </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"El contenido coincide"</span>) </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> { </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"El contenido no coincide"</span>) </span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><code>all(total_complete_data == total_month_data)</code>: Compara si todos los valores en <code>total_complete_data</code> son iguales a los valores en <code>total_month_data</code> La función <code>all()</code> devuelve <code>TRUE</code> si todas las comparaciones son verdaderas.</p></li>
<li><p><code>print("El contenido coincide")</code>: Si todos los valores coinciden, se imprime este mensaje.</p></li>
<li><p><code>print("El contenido no coincide")</code>: Si hay alguna discrepancia entre <code>total_complete_data</code> y <code>total_month_data</code>, se imprime este mensaje</p></li>
</ul>
</section>
<section id="llamada-a-la-función-para-validación" class="level3">
<h3 class="anchored" data-anchor-id="llamada-a-la-función-para-validación">6.7 Llamada a la función para validación</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">content_validation</span>(data, <span class="st">"marzo"</span>, <span class="st">"DPTO"</span>, <span class="fu">c</span>(<span class="st">"OCI"</span>, <span class="st">"P7360"</span>, <span class="st">"P9460"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><code>data</code>: Conjunto de datos consolidado.</p></li>
<li><p><code>marzo</code>: Mes que se quiere validar.</p></li>
<li><p><code>DPTO</code>: Columna por la cual se agruparán los datos.</p></li>
<li><p><code>c("OCI", "P7360", "P9460")</code>: Columnas para las cuales se sumarán los valores durante la validación.</p></li>
</ul>
<p>Esta llamada a la función ejecuta la validación para el mes de marzo, comparando los resultados de las sumas en el conjunto de datos del mes específico con los resultados en el conjunto de datos consolidado.</p>
</section>
<section id="retorno-de-la-función-5" class="level3">
<h3 class="anchored" data-anchor-id="retorno-de-la-función-5">6.8 Retorno de la función</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"El contenido coincide"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="apéndice" class="level2">
<h2 class="anchored" data-anchor-id="apéndice">Apéndice</h2>
<section id="función-verify_variables" class="level3">
<h3 class="anchored" data-anchor-id="función-verify_variables">Función <code>verify_variables()</code></h3>
<p>La función <code>verify_variables()</code> se utiliza para garantizar la consistencia en la estructura de los datos a lo largo del tiempo. Itera a través de los datos de cada mes, verifica si las columnas en los datos de cada mes coinciden con las de un conjunto de datos consolidado, y proporciona retroalimentación sobre cualquier discrepancia encontrada. Esto es crucial para asegurar que el análisis posterior sea consistente y preciso, evitando errores debido a diferencias en la estructura de los datos.</p>
</section>
<section id="función-observations" class="level3">
<h3 class="anchored" data-anchor-id="función-observations">Función <code>observations()</code></h3>
<p>La función <code>observations()</code> asegura la consistencia en el número de observaciones a lo largo de un conjunto de datos de diferentes meses. Al sumar el número de observaciones de cada mes y compararlo con el número de observaciones en el conjunto de datos consolidado, esta función ayuda a identificar posibles pérdidas o duplicaciones de datos. Este proceso es esencial para mantener la integridad de los datos en análisis longitudinales, donde las inconsistencias en el número de observaciones podrían afectar la validez de los resultados.</p>
</section>
<section id="función-duplicate" class="level3">
<h3 class="anchored" data-anchor-id="función-duplicate">Función <code>duplicate()</code></h3>
<p>La función <code>duplicate()</code> se utiliza para verificar la existencia de filas duplicadas en un conjunto de datos específico. Primero, identifica todas las filas duplicadas y las almacena en un nuevo data frame. Luego, verifica si hay o no filas duplicadas al comprobar el número de filas en el data frame de duplicados. Dependiendo del resultado, se imprime un mensaje para informar al usuario si hay duplicados en las filas o si todas las filas son únicas. Detectar y manejar duplicados es crucial en análisis de datos para evitar sesgos y asegurar que los resultados reflejen con precisión la realidad del fenómeno estudiado..</p>
</section>
<section id="función-missing_values" class="level3">
<h3 class="anchored" data-anchor-id="función-missing_values">Función <code>missing_values()</code></h3>
<p>La función <code>missing_values()</code> se utiliza para evaluar la completitud de datos en un conjunto específico de columnas dentro de un data frame. Al contar el número de valores faltantes <code>NA</code> en cada columna especificada, esta función ayuda a identificar problemas de calidad de datos, como la presencia de registros incompletos. Tener columnas clave con valores faltantes puede afectar negativamente los análisis posteriores, por lo que esta función es útil para realizar una limpieza de datos inicial y asegurar que las columnas esenciales estén completas antes de proceder con análisis más detallados</p>
</section>
<section id="función-select_suffix" class="level3">
<h3 class="anchored" data-anchor-id="función-select_suffix">Función <code>select_suffix()</code></h3>
<p>La función <code>select_suffix()</code> permite seleccionar y mostrar columnas de un <code>data.table</code> que terminan en los sufijos especificados. Si no se encuentran columnas con los sufijos proporcionados, la función informa al usuario. Esto facilita la identificación y el análisis de columnas específicas en un conjunto de datos.</p>
</section>
<section id="función-content_validation" class="level3">
<h3 class="anchored" data-anchor-id="función-content_validation">Función <code>content_validation()</code></h3>
<p>La función <code>content_validation()</code> se utiliza para verificar la consistencia de los datos entre un conjunto de datos mensual específico y un conjunto de datos consolidado. Primero, obtiene los datos del mes especificado y calcula las sumas de ciertas columnas agrupadas por una columna clave. Luego, realiza el mismo cálculo en el conjunto de datos consolidado para el mes correspondiente y compara los resultados. Esta función es esencial para asegurar que los datos de los meses individuales coincidan con los datos en el conjunto consolidado, garantizando así la integridad y precisión de los datos en el análisis.</p>
</section>
</section>
<section id="contáctanos" class="level2">
<h2 class="anchored" data-anchor-id="contáctanos">Contáctanos</h2>
<p>Te invitamos a explorar el proyecto completo, con todas su guias indicaciones y demás ¡Solo visita el <a href="https://github.com/Alicbm/data-exploration" target="_blank">repositorio del Proyecto!</a></p>
<p><strong>Daniel Molina:</strong> <a href="https://github.com/dmgsjj" target="_blank">GitHub</a> - <a href="https://www.linkedin.com/in/daniel-molina-b76a4323b" target="_blank">LinkedIn</a></p>
<p><strong>Alic Barandica:</strong> <a href="https://github.com/Alicbm" target="_blank">GitHub</a> - <a href="https://www.linkedin.com/in/alic-barandica" target="_blank">LinkedIn</a></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>